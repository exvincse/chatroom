(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-633a6116"],{"02f4":function(t,e,n){var i=n("4588"),a=n("be13");t.exports=function(t){return function(e,n){var r,o,s=String(a(e)),c=i(n),l=s.length;return c<0||c>=l?t?"":void 0:(r=s.charCodeAt(c),r<55296||r>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):r:t?s.slice(c,c+2):o-56320+(r-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var i=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"0838":function(t,e,n){},"0bfb":function(t,e,n){"use strict";var i=n("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,n){"use strict";n("b0c5");var i=n("2aba"),a=n("32e9"),r=n("79e5"),o=n("be13"),s=n("2b4c"),c=n("520a"),l=s("species"),u=!r(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=s(t),p=!r(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),v=p?!r(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!e}):void 0;if(!p||!v||"replace"===t&&!u||"split"===t&&!f){var m=/./[d],h=n(o,d,""[t],function(t,e,n,i,a){return e.exec===c?p&&!a?{done:!0,value:m.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),g=h[0],x=h[1];i(String.prototype,t,g),a(RegExp.prototype,d,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}}},"28a5":function(t,e,n){"use strict";var i=n("aae3"),a=n("cb7c"),r=n("ebd6"),o=n("0390"),s=n("9def"),c=n("5f1b"),l=n("520a"),u=n("79e5"),f=Math.min,d=[].push,p="split",v="length",m="lastIndex",h=4294967295,g=!u(function(){RegExp(h,"y")});n("214f")("split",2,function(t,e,n,u){var x;return x="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[v]||2!="ab"[p](/(?:ab)*/)[v]||4!="."[p](/(.?)(.?)/)[v]||"."[p](/()()/)[v]>1||""[p](/.?/)[v]?function(t,e){var a=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(a,t,e);var r,o,s,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=void 0===e?h:e>>>0,g=new RegExp(t.source,u+"g");while(r=l.call(g,a)){if(o=g[m],o>f&&(c.push(a.slice(f,r.index)),r[v]>1&&r.index<a[v]&&d.apply(c,r.slice(1)),s=r[0][v],f=o,c[v]>=p))break;g[m]===r.index&&g[m]++}return f===a[v]?!s&&g.test("")||c.push(""):c.push(a.slice(f)),c[v]>p?c.slice(0,p):c}:"0"[p](void 0,0)[v]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var a=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,a,i):x.call(String(a),n,i)},function(t,e){var i=u(x,t,this,e,x!==n);if(i.done)return i.value;var l=a(t),d=String(this),p=r(l,RegExp),v=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(g?"y":"g"),b=new p(g?l:"^(?:"+l.source+")",m),y=void 0===e?h:e>>>0;if(0===y)return[];if(0===d.length)return null===c(b,d)?[d]:[];var C=0,S=0,w=[];while(S<d.length){b.lastIndex=g?S:0;var k,L=c(b,g?d:d.slice(S));if(null===L||(k=f(s(b.lastIndex+(g?0:S)),d.length))===C)S=o(d,S,v);else{if(w.push(d.slice(C,S)),w.length===y)return w;for(var _=1;_<=L.length-1;_++)if(w.push(L[_]),w.length===y)return w;S=C=k}}return w.push(d.slice(C)),w}]})},"2f21":function(t,e,n){"use strict";var i=n("79e5");t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},"456d":function(t,e,n){var i=n("4bf8"),a=n("0d58");n("5eda")("keys",function(){return function(t){return a(i(t))}})},"504c":function(t,e,n){var i=n("9e1e"),a=n("0d58"),r=n("6821"),o=n("52a7").f;t.exports=function(t){return function(e){var n,s=r(e),c=a(s),l=c.length,u=0,f=[];while(l>u)n=c[u++],i&&!o.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}}},"520a":function(t,e,n){"use strict";var i=n("0bfb"),a=RegExp.prototype.exec,r=String.prototype.replace,o=a,s="lastIndex",c=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[s]||0!==e[s]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(o=function(t){var e,n,o,u,f=this;return l&&(n=new RegExp("^"+f.source+"$(?!\\s)",i.call(f))),c&&(e=f[s]),o=a.call(f,t),c&&o&&(f[s]=f.global?o.index+o[0].length:e),l&&o&&o.length>1&&r.call(o[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)}),o}),t.exports=o},"55dd":function(t,e,n){"use strict";var i=n("5ca1"),a=n("d8e8"),r=n("4bf8"),o=n("79e5"),s=[].sort,c=[1,2,3];i(i.P+i.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!n("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(r(this)):s.call(r(this),a(t))}})},"5eda":function(t,e,n){var i=n("5ca1"),a=n("8378"),r=n("79e5");t.exports=function(t,e){var n=(a.Object||{})[t]||Object[t],o={};o[t]=e(n),i(i.S+i.F*r(function(){n(1)}),"Object",o)}},"5f1b":function(t,e,n){"use strict";var i=n("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var r=n.call(t,e);if("object"!==typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"7f7f":function(t,e,n){var i=n("86cc").f,a=Function.prototype,r=/^\s*function ([^ (]*)/,o="name";o in a||n("9e1e")&&i(a,o,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},8615:function(t,e,n){var i=n("5ca1"),a=n("504c")(!1);i(i.S,"Object",{values:function(t){return a(t)}})},"9c54":function(t,e,n){t.exports=n.p+"img/comment.f91f95c0.svg"},aae3:function(t,e,n){var i=n("d3f4"),a=n("2d95"),r=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==a(t))}},ac6a:function(t,e,n){for(var i=n("cadf"),a=n("0d58"),r=n("2aba"),o=n("7726"),s=n("32e9"),c=n("84f2"),l=n("2b4c"),u=l("iterator"),f=l("toStringTag"),d=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=a(p),m=0;m<v.length;m++){var h,g=v[m],x=p[g],b=o[g],y=b&&b.prototype;if(y&&(y[u]||s(y,u,d),y[f]||s(y,f,g),c[g]=d,x))for(h in i)y[h]||r(y,h,i[h],!0)}},b0c5:function(t,e,n){"use strict";var i=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},c71c:function(t,e,n){"use strict";var i=n("0838"),a=n.n(i);a.a},d504:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("nav",{staticClass:"top-nav d-flex bg-white align-items-center justify-content-between"},[i("ul",{staticClass:"menu d-flex px-4 mb-0"},[i("li",[i("router-link",{staticClass:"py-3",attrs:{to:"/index"}},[t._v("首頁")])],1)]),i("div",{staticClass:"login-layout"},[i("a",{staticClass:"p-3 btn btn-navy-blue login-out",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.loginout()}}},[t._v("登出")]),i("a",{staticClass:"p-3 btn bg-navy-blue text-white name",attrs:{href:"#"}},[t._v(t._s(t.cookie.name))])])]),i("header",{staticClass:"top-bg py-5"}),i("section",{staticClass:"container",staticStyle:{transform:"translateY(-15%)"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 mb-4"},[i("div",{staticClass:"today-topic"},[i("h2",{staticClass:"col-12 hot-title"},[t._v("本日話題")]),i("div",{staticClass:"theme"},[i("a",{staticClass:"d-flex justify-content-center align-items-center text-center",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updatemsg(t.todaytopic.id,t.todaytopic.name,"today")}}},[i("div",{staticClass:"content d-flex flex-column"},[i("span",{staticClass:"mb-3"},[t._v("#"+t._s(t.todaytopic.name))]),i("span",[t._v(t._s(t.todaytopic.num)),i("i",{staticClass:"fas fa-comment-dots ml-2"})])])])])])]),i("div",{staticClass:"col-12 d-flex flex-wrap hot"},[i("h2",{staticClass:"col-12 hot-title"},[t._v("熱門偷偷說")]),t._l(t.uesrstory,function(e){return i("div",{key:e.id,staticClass:"col-5 d-flex flex-column hot-topic"},[i("p",{staticClass:"mb-4 flex-content"},[t._v(t._s(e.name))]),i("div",{staticClass:"d-flex flex-footer justify-content-between align-items-center"},[i("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.creatcustom))]),i("div",[i("span",{staticClass:"mr-2"},[t._v(t._s(e.num))]),i("img",{attrs:{src:n("9c54"),width:"15px",height:"15px",alt:""}})])]),i("a",{attrs:{href:"#",title:e.name},on:{click:function(n){return n.preventDefault(),t.updatemsg(e.id,e.name)}}})])}),i("a",{staticClass:"addroom-btn text-center",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.modal=!t.modal}}},[i("i",{staticClass:"fas fa-pencil-alt fa-lg text-navy-blue"})])],2)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.modal,expression:"modal"}],staticClass:"addroom p-5"},[i("h4",{staticClass:"text-center"},[t._v("新增聊天室")]),i("div",{staticClass:"modal-hide"},[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.modal=!t.modal}}},[i("i",{staticClass:"fas fa-times fa-lg"})])]),i("div",{staticClass:"input-group"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Addroom,expression:"Addroom"}],staticStyle:{resize:"none"},attrs:{cols:"30",rows:"10"},domProps:{value:t.Addroom},on:{input:function(e){e.target.composing||(t.Addroom=e.target.value)}}}),i("button",{staticClass:"btn btn-primary ml-auto mt-3",on:{click:function(e){t.addroom(),t.modal=!1}}},[t._v("新增")])])]),i("div",{class:{"modal-bg":t.modal}})])},a=[],r=(n("55dd"),n("7f7f"),n("8615"),n("ac6a"),n("456d"),n("28a5"),{data:function(){return{modal:!1,Addroom:"",cookie:{},todaytopic:{},uesrstory:[]}},created:function(){var t=document.cookie.split(";")[1];void 0===t||"clear"===t.split('"')[1]?this.$router.push("/"):this.cookie=JSON.parse(t.split("=")[1])},mounted:function(){this.updateroom("today"),this.updateroom()},methods:{addroom:function(){if(""===this.Addroom)return!1;var t=Math.floor(Date.now()/100);return this.$firebase.database().ref("/room/").push({creatcustom:this.cookie,name:this.Addroom,timestamp:t}),this.Addroom="",this.updateroom(),!0},updateroom:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"room";this.$firebase.database().ref("/".concat(e,"/")).on("value",function(n){if(null===n.val())return!1;var i=Object.keys(n.val()),a=Object.values(n.val()),r=[],o=0,s="";return i.forEach(function(t,e){void 0===a[e].msg?(o=0,s=""):(o=Object.keys(a[e].msg).length,s=Object.values(a[e].msg)[o-1].custom),r.push({id:t,creatcustom:a[e].creatcustom.name,name:a[e].name,num:o,custom:s})}),r.sort(function(t,e){return e.num-t.num}),"room"===e?t.uesrstory=r:t.todaytopic=r[0],!0})},updatemsg:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"room";this.$router.push({path:"roommsg",query:{room:n,roomid:t,roomname:e}})},loginout:function(){var t="clear";document.cookie="name=".concat(JSON.stringify(t));var e=document.cookie.split(";")[1];this.$store.dispatch("start",JSON.parse(e.split("=")[1])),this.$router.push("/")}}}),o=r,s=(n("c71c"),n("2877")),c=Object(s["a"])(o,i,a,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-633a6116.83d00de5.js.map