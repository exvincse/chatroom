(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14d8034a"],{"0838":function(t,e,a){},"2f21":function(t,e,a){"use strict";var o=a("79e5");t.exports=function(t,e){return!!t&&o(function(){e?t.call(null,function(){},1):t.call(null)})}},"456d":function(t,e,a){var o=a("4bf8"),s=a("0d58");a("5eda")("keys",function(){return function(t){return s(o(t))}})},"504c":function(t,e,a){var o=a("9e1e"),s=a("0d58"),n=a("6821"),i=a("52a7").f;t.exports=function(t){return function(e){var a,c=n(e),r=s(c),l=r.length,u=0,d=[];while(l>u)a=r[u++],o&&!i.call(c,a)||d.push(t?[a,c[a]]:c[a]);return d}}},"55dd":function(t,e,a){"use strict";var o=a("5ca1"),s=a("d8e8"),n=a("4bf8"),i=a("79e5"),c=[].sort,r=[1,2,3];o(o.P+o.F*(i(function(){r.sort(void 0)})||!i(function(){r.sort(null)})||!a("2f21")(c)),"Array",{sort:function(t){return void 0===t?c.call(n(this)):c.call(n(this),s(t))}})},"5eda":function(t,e,a){var o=a("5ca1"),s=a("8378"),n=a("79e5");t.exports=function(t,e){var a=(s.Object||{})[t]||Object[t],i={};i[t]=e(a),o(o.S+o.F*n(function(){a(1)}),"Object",i)}},"7f7f":function(t,e,a){var o=a("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,i="name";i in s||a("9e1e")&&o(s,i,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},8615:function(t,e,a){var o=a("5ca1"),s=a("504c")(!1);o(o.S,"Object",{values:function(t){return s(t)}})},"9c54":function(t,e,a){t.exports=a.p+"img/comment.f91f95c0.svg"},ac6a:function(t,e,a){for(var o=a("cadf"),s=a("0d58"),n=a("2aba"),i=a("7726"),c=a("32e9"),r=a("84f2"),l=a("2b4c"),u=l("iterator"),d=l("toStringTag"),m=r.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=s(f),p=0;p<v.length;p++){var h,g=v[p],b=f[g],y=i[g],C=y&&y.prototype;if(C&&(C[u]||c(C,u,m),C[d]||c(C,d,g),r[g]=m,b))for(h in o)C[h]||n(C,h,o[h],!0)}},c71c:function(t,e,a){"use strict";var o=a("0838"),s=a.n(o);s.a},d504:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrap"},[o("nav",{staticClass:"top-nav d-flex bg-white align-items-center justify-content-between"},[o("ul",{staticClass:"menu d-flex px-4 mb-0"},[o("li",[o("router-link",{staticClass:"py-3",attrs:{to:"/index"}},[t._v("首頁")])],1)]),o("div",{staticClass:"login-layout"},[o("a",{staticClass:"p-3 btn btn-navy-blue login-out",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.loginout()}}},[t._v("登出")]),o("a",{staticClass:"p-3 btn bg-navy-blue text-white name",attrs:{href:"#"}},[t._v(t._s(t.cookie.name))])])]),o("header",{staticClass:"top-bg py-5"}),o("section",{staticClass:"container",staticStyle:{transform:"translateY(-15%)"}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 mb-4"},[o("div",{staticClass:"today-topic"},[o("h2",{staticClass:"col-12 hot-title"},[t._v("本日話題")]),o("div",{staticClass:"theme"},[o("a",{staticClass:"d-flex justify-content-center align-items-center text-center",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updatemsg(t.todaytopic.id,t.todaytopic.name,"today")}}},[o("div",{staticClass:"content d-flex flex-column"},[o("span",{staticClass:"mb-3"},[t._v("#"+t._s(t.todaytopic.name))]),o("span",[t._v(t._s(t.todaytopic.num)),o("i",{staticClass:"fas fa-comment-dots ml-2"})])])])])])]),o("div",{staticClass:"col-12 d-flex flex-wrap hot"},[o("h2",{staticClass:"col-12 hot-title"},[t._v("熱門偷偷說")]),t._l(t.uesrstory,function(e){return o("div",{key:e.id,staticClass:"col-5 d-flex flex-column hot-topic"},[o("p",{staticClass:"mb-4 flex-content"},[t._v(t._s(e.name))]),o("div",{staticClass:"d-flex flex-footer justify-content-between align-items-center"},[o("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.creatcustom))]),o("div",[o("span",{staticClass:"mr-2"},[t._v(t._s(e.num))]),o("img",{attrs:{src:a("9c54"),width:"15px",height:"15px",alt:""}})])]),o("a",{attrs:{href:"#",title:e.name},on:{click:function(a){return a.preventDefault(),t.updatemsg(e.id,e.name)}}})])}),o("a",{staticClass:"addroom-btn text-center",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.modal=!t.modal}}},[o("i",{staticClass:"fas fa-pencil-alt fa-lg text-navy-blue"})])],2)])]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.modal,expression:"modal"}],staticClass:"addroom p-5"},[o("h4",{staticClass:"text-center"},[t._v("新增聊天室")]),o("div",{staticClass:"modal-hide"},[o("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.modal=!t.modal}}},[o("i",{staticClass:"fas fa-times fa-lg"})])]),o("div",{staticClass:"input-group"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Addroom,expression:"Addroom"}],staticStyle:{resize:"none"},attrs:{cols:"30",rows:"10"},domProps:{value:t.Addroom},on:{input:function(e){e.target.composing||(t.Addroom=e.target.value)}}}),o("button",{staticClass:"btn btn-primary ml-auto mt-3",on:{click:function(e){t.addroom(),t.modal=!1}}},[t._v("新增")])])]),o("div",{class:{"modal-bg":t.modal}})])},s=[],n=(a("55dd"),a("7f7f"),a("8615"),a("ac6a"),a("456d"),{data:function(){return{modal:!1,Addroom:"",cookie:{},todaytopic:{},uesrstory:[]}},created:function(){void 0===this.$cookie.get("name")||"clear"===this.$cookie.get("name")?this.$router.push("/"):this.cookie=JSON.parse(this.$cookie.get("name"))},mounted:function(){this.updateroom("today"),this.updateroom()},methods:{addroom:function(){if(""===this.Addroom)return!1;var t=Math.floor(Date.now()/100);return this.$firebase.database().ref("/room/").push({creatcustom:this.cookie,name:this.Addroom,timestamp:t}),this.Addroom="",this.updateroom(),!0},updateroom:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"room";this.$firebase.database().ref("/".concat(e,"/")).on("value",function(a){if(null===a.val())return!1;var o=Object.keys(a.val()),s=Object.values(a.val()),n=[],i=0,c="";return o.forEach(function(t,e){void 0===s[e].msg?(i=0,c=""):(i=Object.keys(s[e].msg).length,c=Object.values(s[e].msg)[i-1].custom),n.push({id:t,creatcustom:s[e].creatcustom.name,name:s[e].name,num:i,custom:c})}),n.sort(function(t,e){return e.num-t.num}),"room"===e?t.uesrstory=n:t.todaytopic=n[0],!0})},updatemsg:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"room";this.$router.push({path:"roommsg",query:{room:a,roomid:t,roomname:e}})},loginout:function(){this.$cookie.set("name","clear"),this.$router.push("/")}}}),i=n,c=(a("c71c"),a("2877")),r=Object(c["a"])(i,o,s,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-14d8034a.7808b549.js.map