(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14d8034a"],{"0838":function(t,e,a){},"2f21":function(t,e,a){"use strict";var i=a("79e5");t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},"456d":function(t,e,a){var i=a("4bf8"),s=a("0d58");a("5eda")("keys",function(){return function(t){return s(i(t))}})},"504c":function(t,e,a){var i=a("9e1e"),s=a("0d58"),n=a("6821"),o=a("52a7").f;t.exports=function(t){return function(e){var a,r=n(e),c=s(r),l=c.length,u=0,d=[];while(l>u)a=c[u++],i&&!o.call(r,a)||d.push(t?[a,r[a]]:r[a]);return d}}},"55dd":function(t,e,a){"use strict";var i=a("5ca1"),s=a("d8e8"),n=a("4bf8"),o=a("79e5"),r=[].sort,c=[1,2,3];i(i.P+i.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!a("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(n(this)):r.call(n(this),s(t))}})},"5eda":function(t,e,a){var i=a("5ca1"),s=a("8378"),n=a("79e5");t.exports=function(t,e){var a=(s.Object||{})[t]||Object[t],o={};o[t]=e(a),i(i.S+i.F*n(function(){a(1)}),"Object",o)}},"7f7f":function(t,e,a){var i=a("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,o="name";o in s||a("9e1e")&&i(s,o,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},8615:function(t,e,a){var i=a("5ca1"),s=a("504c")(!1);i(i.S,"Object",{values:function(t){return s(t)}})},"9c54":function(t,e,a){t.exports=a.p+"img/comment.f91f95c0.svg"},ac6a:function(t,e,a){for(var i=a("cadf"),s=a("0d58"),n=a("2aba"),o=a("7726"),r=a("32e9"),c=a("84f2"),l=a("2b4c"),u=l("iterator"),d=l("toStringTag"),f=c.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=s(m),p=0;p<v.length;p++){var h,g=v[p],b=m[g],y=o[g],C=y&&y.prototype;if(C&&(C[u]||r(C,u,f),C[d]||r(C,d,g),c[g]=f,b))for(h in i)C[h]||n(C,h,i[h],!0)}},c71c:function(t,e,a){"use strict";var i=a("0838"),s=a.n(i);s.a},d504:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("div",{},[i("nav",{staticClass:"top-nav d-flex bg-white align-items-center justify-content-between"},[i("ul",{staticClass:"menu d-flex px-4 mb-0"},[i("li",[i("router-link",{staticClass:"py-3",attrs:{to:"/index"}},[t._v("首頁")])],1)]),i("div",{staticClass:"login-layout"},[i("a",{staticClass:"p-3 btn btn-navy-blue login-out",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.loginout()}}},[t._v("登出")]),i("a",{staticClass:"p-3 btn bg-navy-blue text-white name",attrs:{href:"#"}},[t._v(t._s(t.cookie.name))])])]),i("header",{staticClass:"top-bg py-5"})]),i("section",{staticClass:"container h-100",staticStyle:{"margin-top":"-70px"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 mb-4"},[i("div",{staticClass:"today-topic"},[i("h2",{staticClass:"col-12 hot-title"},[t._v("本日話題")]),i("div",{staticClass:"theme"},[i("a",{staticClass:"d-flex justify-content-center align-items-center text-center",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updatemsg(t.todaytopic.id,t.todaytopic.name,"today")}}},[i("div",{staticClass:"content d-flex flex-column"},[i("span",{staticClass:"mb-3"},[t._v("#"+t._s(t.todaytopic.name))]),i("div",{staticClass:"d-flex justify-content-center align-items-center"},[i("span",{staticClass:"mr-2"},[t._v(t._s(t.todaytopic.num))]),i("img",{attrs:{src:a("9c54"),width:"15px",height:"15px",alt:""}})])])])])])]),i("div",{staticClass:"col-12 d-flex flex-wrap hot h-100"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 d-flex justify-content-between flex-wrap"},[i("h2",{staticClass:"col-12 hot-title"},[t._v("熱門偷偷說")]),t._l(t.uesrstory,function(e){return i("div",{key:e.id,staticClass:"d-flex flex-column hot-topic"},[i("p",{staticClass:"mb-4 flex-content"},[t._v(t._s(e.name))]),i("div",{staticClass:"d-flex flex-footer justify-content-between align-items-center"},[i("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.creatcustom))]),i("div",[i("span",{staticClass:"mr-2"},[t._v(t._s(e.num))]),i("img",{attrs:{src:a("9c54"),width:"15px",height:"15px",alt:""}})])]),i("a",{attrs:{href:"#",title:e.name},on:{click:function(a){return a.preventDefault(),t.updatemsg(e.id,e.name)}}})])})],2)]),i("a",{staticClass:"addroom-btn text-center",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.modal=!t.modal}}},[i("i",{staticClass:"fas fa-pencil-alt fa-lg text-navy-blue"})])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.modal,expression:"modal"}],staticClass:"addroom p-5"},[i("h4",{staticClass:"text-center"},[t._v("新增聊天室")]),i("div",{staticClass:"modal-hide"},[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.modal=!t.modal}}},[i("i",{staticClass:"fas fa-times fa-lg"})])]),i("div",{staticClass:"input-group d-flex flex-column"},[i("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.Addroom,expression:"Addroom",modifiers:{trim:!0}}],staticStyle:{resize:"none"},attrs:{cols:"30",rows:"10"},domProps:{value:t.Addroom},on:{input:function(e){e.target.composing||(t.Addroom=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),i("button",{staticClass:"btn btn-primary mt-3",on:{click:function(e){t.addroom(),t.modal=!1}}},[t._v("新增")])])]),i("div",{class:{"modal-bg":t.modal}})])},s=[],n=(a("55dd"),a("7f7f"),a("8615"),a("ac6a"),a("456d"),{data:function(){return{modal:!1,Addroom:"",cookie:{},todaytopic:{},uesrstory:[]}},created:function(){void 0===this.$cookie.get("name")||"clear"===this.$cookie.get("name")?this.$router.push("/"):this.cookie=JSON.parse(this.$cookie.get("name"))},mounted:function(){this.updateroom("today"),this.updateroom()},methods:{addroom:function(){if(""===this.Addroom)return alert("請輸入名稱"),!1;var t=Math.floor(Date.now()/100);return this.$firebase.database().ref("/room/").push({creatcustom:this.cookie,name:this.Addroom,timestamp:t}),this.Addroom="",this.updateroom(),!0},updateroom:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"room";this.$firebase.database().ref("/".concat(e,"/")).on("value",function(a){if(null===a.val())return!1;var i=Object.keys(a.val()),s=Object.values(a.val()),n=[],o=0,r="";return i.forEach(function(t,e){void 0===s[e].msg?(o=0,r=""):(o=Object.keys(s[e].msg).length,r=Object.values(s[e].msg)[o-1].custom),n.push({id:t,creatcustom:s[e].creatcustom.name,name:s[e].name,num:o,custom:r})}),n.sort(function(t,e){return e.num-t.num}),"room"===e?t.uesrstory=n:t.todaytopic=n[0],!0})},updatemsg:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"room";this.$router.push({path:"roommsg",query:{room:a,roomid:t,roomname:e}})},loginout:function(){this.$cookie.set("name","clear"),this.$router.push("/")}}}),o=n,r=(a("c71c"),a("2877")),c=Object(r["a"])(o,i,s,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-14d8034a.02f69eef.js.map